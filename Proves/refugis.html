<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>prova_refugis</title>
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <link
      href="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.css"
      rel="stylesheet"
    />
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.5.1/mapbox-gl.js"></script>
    <link href="css/style.css" rel="stylesheet" />
    <body>
      <div id="mapa"></div>
      <script>
        mapboxgl.accessToken =
        'pk.eyJ1IjoibWFwYXRvciIsImEiOiJja3dxaXdvZm8wbXI5Mm9xb2JraDJmMjY3In0.cluUTNNRHJwurzUx6dMZDQ';
        const map = new mapboxgl.Map({
          container: 'mapa',
          style: 'mapbox://styles/mapbox/basic-v8', // Estil pla per evitar superposició
          center: [2.170529, 41.387485],
          zoom: 14,
          pitch: 55,
          attributionControl: false,
          hash: true,
        });

        map.on('load', function() {
          map.addSource('refugis_source', {
            type: 'vector',
            url: 'mapbox://mapator.cm0njz5c30fm51ulg09mcwfgt-989po', //IMPORTANT: per a que la request sàpiga que ha d'anar a mapbox i utilitzi https, necessita el prefix "mapbox://
          });
          map.addLayer({
            id: 'refugis', //Id de l'estil de la capa
            type: 'symbol',
            source: 'refugis_source',
            layout: {
              visibility: 'visible',
              'icon-image': 'museum-15',
            },
            'source-layer': 'RefugisClimatics',
          });
	/////////////////////////////////////QZ: Popups
/*
getlayerid: refugis
marker.onclick
queryrenderedfeatures
content
new popup
	lng, lat
	content to display
	.addTo(map);
*/
        });

      </script>
    </body>
  </head>
</html>
